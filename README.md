# Cloud Sync Service

–°–µ—Ä–≤–∏—Å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–æ–π –∏ –æ–±–ª–∞—á–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º (Yandex Disk).

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–æ–π –∏ –æ–±–ª–∞—á–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- üìÅ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚è∞ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
- üìù –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (—Å–µ—Ç–µ—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º)
- üîå –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º –±–∞–∑–æ–≤—ã–º –∫–ª–∞—Å—Å–æ–º –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

```
cloud_sync_service/
‚îú‚îÄ‚îÄ cloud_providers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ base.py           # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å BaseCloudProvider
‚îÇ   ‚îú‚îÄ‚îÄ local_mock.py     # –õ–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ yandex_disk.py    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Yandex Disk
‚îú‚îÄ‚îÄ sync_service.py       # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env                  # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ sync_log.log          # –§–∞–π–ª –ª–æ–≥–æ–≤
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞**

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```powershell
   python -m venv venv
   .\venv\Scripts\activate
   pip install -r requirements.txt
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ñ–∞–π–ª–µ `.env`**
   ```ini
   # –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: 'yandex' –∏–ª–∏ 'local_mock'
   CLOUD_PROVIDER=yandex

   # –î–ª—è yandex: OAuth-—Ç–æ–∫–µ–Ω –æ—Ç Yandex Disk
   # –î–ª—è local_mock: –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –¥–ª—è –∑–∞–≥–ª—É—à–∫–∏
   ACCESS_TOKEN=your_yandex_oauth_token_here

   # –ü—É—Ç—å –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–µ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   LOCAL_FOLDER_PATH=C:\Users\Username\Documents\SyncFolder

   # –ò–º—è –ø–∞–ø–∫–∏ –≤ –æ–±–ª–∞—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   CLOUD_FOLDER_NAME=Backup

   # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (300 = 5 –º–∏–Ω—É—Ç)
   SYNC_INTERVAL=300

   # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –ª–æ–≥–æ–≤
   LOG_PATH=C:\Temp\CloudSyncService\sync_log.log
   ```

4. **–ü–æ–ª—É—á–∏—Ç–µ OAuth-—Ç–æ–∫–µ–Ω –¥–ª—è Yandex Disk**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: https://oauth.yandex.ru/client/new
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ü–æ–ª—É—á–∏—Ç–µ OAuth-—Ç–æ–∫–µ–Ω
   - –£–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª–µ `.env`

## üöÄ –ó–∞–ø—É—Å–∫

```powershell
python sync_service.py
```

–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏ –Ω–∞—á–Ω–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤.

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

1. **–†–µ–∂–∏–º Yandex Disk** (`CLOUD_PROVIDER=yandex`)
   - –†–µ–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Yandex Disk
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –≤–∞–ª–∏–¥–Ω—ã–π OAuth-—Ç–æ–∫–µ–Ω

2. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** (`CLOUD_PROVIDER=local_mock`)
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–∞–ø–∫–∞–º–∏
   - –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
   - –í –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `ACCESS_TOKEN` —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –¥–ª—è –ø–∞–ø–∫–∏-–∑–∞–≥–ª—É—à–∫–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª:
- –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö/—É–¥–∞–ª–µ–Ω–Ω—ã—Ö/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

## üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
2024-01-15 10:30:15 | INFO     | Service started. Syncing folder: C:\Users\Username\Documents\SyncFolder
2024-01-15 10:30:16 | INFO     | Starting synchronization cycle.
2024-01-15 10:30:17 | INFO     | New file report.pdf found. Uploading to cloud.
2024-01-15 10:30:18 | INFO     | Successfully uploaded report.pdf to cloud.
2024-01-15 10:30:18 | INFO     | Synchronization cycle finished.
2024-01-15 10:30:18 | INFO     | Next sync in 300 seconds.
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –≤ `cloud_providers/`
2. –ù–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç `BaseCloudProvider`
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
   - `load()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
   - `reload()` - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞  
   - `delete()` - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
   - `get_info()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–∞—Ö

4. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é `get_cloud_provider()` –≤ `sync_service.py`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –∑–∞–≥–ª—É—à–∫—É:
```ini
CLOUD_PROVIDER=local_mock
ACCESS_TOKEN=C:\Temp\TestCloud
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` —Å –≤–∞—à–∏–º —Ç–æ–∫–µ–Ω–æ–º –≤ Git
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–∞–ø–∫–∏
- –î–ª—è —Ä–∞–±–æ—Ç—ã —Å Yandex Disk —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –°–µ—Ä–≤–∏—Å –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ (—Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---
[–§–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å –ø–æ–º–æ—â—å—é DeepSeek AI Assistant](https://www.deepseek.com)